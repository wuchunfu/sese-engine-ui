var X=Object.defineProperty,Z=Object.defineProperties;var ee=Object.getOwnPropertyDescriptors;var U=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var D=(e,t,r)=>t in e?X(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y=(e,t)=>{for(var r in t||(t={}))te.call(t,r)&&D(e,r,t[r]);if(U)for(var r of U(t))ne.call(t,r)&&D(e,r,t[r]);return e},j=(e,t)=>Z(e,ee(t));import{o as f,b as d,d as c,e as re,z as se,r as R,k as oe,A as ae,B as ie,i as ue,C as ce,D as le,g as v,f as E,n as fe,t as b,F as x,E as O,G as C,q as de}from"./vendor.4d10dc3b.js";import{_ as he,a as pe,u as _e,b as me,i as ye,c as ge,d as ve}from"./app.224c0947.js";const Ee={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},we=c("path",{d:"M16.172 11l-5.364-5.364l1.414-1.414L20 12l-7.778 7.778l-1.414-1.414L16.172 13H4v-2z",fill:"currentColor"},null,-1),Re=[we];function be(e,t){return f(),d("svg",Ee,Re)}var xe={name:"ri-arrow-right-line",render:be};const Ce={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},$e=c("path",{d:"M7.828 11H20v2H7.828l5.364 5.364l-1.414 1.414L4 12l7.778-7.778l1.414 1.414z",fill:"currentColor"},null,-1),Fe=[$e];function Le(e,t){return f(),d("svg",Ce,Fe)}var je={name:"ri-arrow-left-line",render:Le};const Ae={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Se=c("path",{d:"M12.866 3l9.526 16.5a1 1 0 0 1-.866 1.5H2.474a1 1 0 0 1-.866-1.5L11.134 3a1 1 0 0 1 1.732 0zm-8.66 16h15.588L12 5.5L4.206 19zM11 16h2v2h-2v-2zm0-7h2v5h-2V9z",fill:"currentColor"},null,-1),ke=[Se];function Te(e,t){return f(),d("svg",Ae,ke)}var Pe={name:"ri-alert-line",render:Te};const Ne={width:"1.2em",height:"1.2em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24"},Be=c("path",{d:"M12.001 4.529a5.998 5.998 0 0 1 8.242.228a6 6 0 0 1 .236 8.236l-8.48 8.492l-8.478-8.492a6 6 0 0 1 8.48-8.464zm6.826 1.641a3.998 3.998 0 0 0-5.49-.153l-1.335 1.198l-1.336-1.197a3.999 3.999 0 0 0-5.494.154a4 4 0 0 0-.192 5.451L12 18.654l7.02-7.03a4 4 0 0 0-.193-5.454z",fill:"currentColor"},null,-1),qe=[Be];function Me(e,t){return f(),d("svg",Ne,qe)}var Ue={name:"ri-heart-line",render:Me};const De={},Oe={class:"loading-container flex justify-center items-center fixed inset-0",h:"screen",m:"auto"},ze=c("div",{class:"spinner"},null,-1),He=[ze];function Ie(e,t){return f(),d("div",Oe,He)}var Ve=he(De,[["render",Ie]]);const Ke=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Qe=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Je=/^["{[]|^-?[0-9][0-9.]{0,14}$/;function Ye(e,t){if(!(e==="__proto__"||e==="constructor"))return t}function We(e){if(typeof e!="string")return e;const t=e.toLowerCase();if(t==="true")return!0;if(t==="false")return!1;if(t==="null")return null;if(t==="nan")return NaN;if(t==="infinity")return 1/0;if(t!=="undefined"){if(!Je.test(e))return e;try{return Ke.test(e)||Qe.test(e)?JSON.parse(e,Ye):JSON.parse(e)}catch{return e}}}const Ge=/#/g,Xe=/&/g,Ze=/=/g,z=/\+/g,et=/%5B/gi,tt=/%5D/gi,nt=/%5E/gi,rt=/%60/gi,st=/%7B/gi,ot=/%7C/gi,at=/%7D/gi,it=/%20/gi;function ut(e){return encodeURI(""+e).replace(ot,"|").replace(et,"[").replace(tt,"]")}function A(e){return ut(e).replace(z,"%2B").replace(it,"+").replace(Ge,"%23").replace(Xe,"%26").replace(rt,"`").replace(st,"{").replace(at,"}").replace(nt,"^")}function S(e){return A(e).replace(Ze,"%3D")}function H(e=""){try{return decodeURIComponent(""+e)}catch{return""+e}}function ct(e){return H(e.replace(z," "))}function lt(e=""){const t={};e[0]==="?"&&(e=e.substr(1));for(const r of e.split("&")){const s=r.match(/([^=]+)=?(.*)/)||[];if(s.length<2)continue;const o=H(s[1]);if(o==="__proto__"||o==="constructor")continue;const l=ct(s[2]||"");t[o]?Array.isArray(t[o])?t[o].push(l):t[o]=[t[o],l]:t[o]=l}return t}function ft(e,t){return t?Array.isArray(t)?t.map(r=>`${S(e)}=${A(r)}`).join("&"):`${S(e)}=${A(t)}`:S(e)}function dt(e){return Object.keys(e).map(t=>ft(t,e[t])).join("&")}function ht(e,t=!1){return/^\w+:\/\/.+/.test(e)||t&&/^\/\/[^/]+/.test(e)}const pt=/\/$|\/\?/;function k(e="",t=!1){return t?pt.test(e):e.endsWith("/")}function _t(e="",t=!1){if(!t)return(k(e)?e.slice(0,-1):e)||"/";if(!k(e,!0))return e||"/";const[r,...s]=e.split("?");return(r.slice(0,-1)||"/")+(s.length?`?${s.join("?")}`:"")}function mt(e="",t=!1){if(!t)return e.endsWith("/")?e:e+"/";if(k(e,!0))return e||"/";const[r,...s]=e.split("?");return r+"/"+(s.length?`?${s.join("?")}`:"")}function yt(e=""){return e.startsWith("/")}function gt(e=""){return(yt(e)?e.substr(1):e)||"/"}function vt(e,t){if(wt(t))return e;const r=_t(t);return e.startsWith(r)?e:bt(r,e)}function Et(e,t){const r=I(e),s=y(y({},lt(r.search)),t);return r.search=dt(s),xt(r)}function wt(e){return!e||e==="/"}function Rt(e){return e&&e!=="/"}function bt(e,...t){let r=e||"";for(const s of t.filter(Rt))r=r?mt(r)+gt(s):s;return r}function I(e="",t){if(!ht(e,!0))return t?I(t+e):V(e);const[r="",s,o]=(e.match(/([^:/]+:)?\/\/([^/@]+@)?(.*)/)||[]).splice(1),[l="",a=""]=(o.match(/([^/?]*)(.*)?/)||[]).splice(1),{pathname:i,search:_,hash:n}=V(a);return{protocol:r,auth:s?s.substr(0,s.length-1):"",host:l,pathname:i,search:_,hash:n}}function V(e=""){const[t="",r="",s=""]=(e.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:t,search:r,hash:s}}function xt(e){const t=e.pathname+(e.search?(e.search.startsWith("?")?"":"?")+e.search:"")+e.hash;return e.protocol?e.protocol+"//"+(e.auth?e.auth+"@":"")+e.host+t:t}class Ct extends Error{constructor(){super(...arguments);this.name="FetchError"}}function $t(e,t,r){let s="";e&&r&&(s=`${r.status} ${r.statusText} (${e.toString()})`),t&&(s=`${t.message} (${s})`);const o=new Ct(s);return Object.defineProperty(o,"request",{get(){return e}}),Object.defineProperty(o,"response",{get(){return r}}),Object.defineProperty(o,"data",{get(){return r&&r.data}}),o}const Ft=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function K(e="GET"){return Ft.has(e.toUpperCase())}function Lt(e){if(e===void 0)return!1;const t=typeof e;return t==="string"||t==="number"||t==="boolean"||t===null?!0:t!=="object"?!1:Array.isArray(e)?!0:e.constructor&&e.constructor.name==="Object"||typeof e.toJSON=="function"}const jt=new Set(["image/svg","application/xml","application/xhtml","application/html"]),At=new Set(["application/json","application/ld+json"]);function St(e=""){if(!e)return"json";const t=e.split(";").shift();return At.has(t)?"json":jt.has(t)||t.startsWith("text/")?"text":"blob"}const kt=new Set([408,409,425,429,500,502,503,504]);function Q(e){const{fetch:t,Headers:r}=e;function s(a){if(a.options.retry!==!1){const _=typeof a.options.retry=="number"?a.options.retry:K(a.options.method)?0:1,n=a.response&&a.response.status||500;if(_>0&&kt.has(n))return o(a.request,j(y({},a.options),{retry:_-1}))}const i=$t(a.request,a.error,a.response);throw Error.captureStackTrace&&Error.captureStackTrace(i,o),i}const o=async function(i,_={}){const n={request:i,options:y(y({},e.defaults),_),response:void 0,error:void 0};n.options.onRequest&&await n.options.onRequest(n),typeof n.request=="string"&&(n.options.baseURL&&(n.request=vt(n.request,n.options.baseURL)),n.options.params&&(n.request=Et(n.request,n.options.params)),n.options.body&&K(n.options.method)&&Lt(n.options.body)&&(n.options.body=JSON.stringify(n.options.body),n.options.headers=new r(n.options.headers),n.options.headers.has("content-type")||n.options.headers.set("content-type","application/json"),n.options.headers.has("accept")||n.options.headers.set("accept","application/json"))),n.response=await t(n.request,n.options).catch(async g=>(n.error=g,n.options.onRequestError&&await n.options.onRequestError(n),s(n)));const p=(n.options.parseResponse?"json":n.options.responseType)||St(n.response.headers.get("content-type")||"");if(p==="json"){const g=await n.response.text(),w=n.options.parseResponse||We;n.response.data=w(g)}else n.response.data=await n.response[p]();return n.options.onResponse&&await n.options.onResponse(n),n.response.ok||n.options.onResponseError&&await n.options.onResponseError(n),n.response.ok?n.response:s(n)},l=function(i,_){return o(i,_).then(n=>n.data)};return l.raw=o,l.create=(a={})=>Q(j(y({},e),{defaults:y(y({},e.defaults),a)})),l}const J=function(){if(typeof globalThis!="undefined")return globalThis;if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof global!="undefined")return global;throw new Error("unable to locate global object")}(),Tt=J.fetch||(()=>Promise.reject(new Error("[ohmyfetch] global.fetch is not supported!"))),Pt=J.Headers,Nt=Q({fetch:Tt,Headers:Pt}),Bt=Nt.create({baseURL:"http://101.43.47.44:4950",retry:0,async onResponseError({response:e}){const{useToast:t}=await pe(()=>import("./vendor.4d10dc3b.js").then(function(s){return s.J}),[]),r=t();r.error(`${e.status} ${e.statusText}`),e.data&&r.error(e.data.\u4FE1\u606F)}});async function qt(e){const t={q:e.q||"",slice:e.slice||"0:10"};return await Bt("/search",{params:t})}const Mt={p:"2"},Ut={p:"l-2 <sm:l-0",class:"flex justify-start items-center <sm:mt-8"},Dt=["src"],Ot={key:0,m:"l-24 <sm:l-0",p:"2",class:"max-w-2xl"},zt={text:"left sm gray-500",m:"b-2"},Ht=["href"],It={class:"not-italic",text:"xs"},Vt=["href"],Kt={class:"top-0 truncate"},Qt=["innerHTML"],Jt={key:1},Yt={class:"inline-flex justify-start items-center border",p:"1",m:"1"},Wt=c("span",{m:"l-1"},"\u6211\u4EEC\u7684\u63A2\u6D4B\u5668\u5BF9\u8FD9\u4E2A\u5947\u602A\u7684\u7F51\u7AD9\u6CA1\u6709\u6548\u679C\uFF01",-1),Gt={key:0,m:"t-6 b-4",class:"pagination-container flex justify-center items-center"},Xt=["onClick"],nn=re({setup(e){var P,N,B;const{enter:t}=_e(),r=se(),s=me();s.setNewKeyword(((P=r.query.q)==null?void 0:P.toString())||"");const o=R(s.savedKeyword),l=R((N=r.query.slice)==null?void 0:N.toString()),a=R(10),i=R(),_=oe(),n=async()=>{s.isLoading=!0;const m=await qt({q:o.value,slice:l.value});s.isLoading=!1,i.value=m};ae(async()=>{n()});const p=R(l.value?parseInt((B=l.value)==null?void 0:B.split(":")[0])/a.value+1:1),g=m=>{p.value=m,l.value=`${(p.value-1)*a.value}:${p.value*a.value}`,_.push({path:"/search",query:{q:o.value,slice:l.value}}),n()};ie(()=>s.savedKeyword,()=>{n()});const w=ue(()=>{if(i.value&&i.value.\u603B\u6570){const m=Math.ceil(i.value.\u603B\u6570/a.value);return m<=10?m:10}else return 0}),T=()=>{p.value=1,l.value=`0:${a.value}`,t(o.value)},Y=m=>{let h=m;return(i.value&&i.value.\u5206\u8BCD||[o.value]).forEach($=>{const F=new RegExp($,"gi");h=h.replace(F,L=>`<em class="highlight">${L}</em>`)}),h};return(m,h)=>{const q=Ve,$=ve,F=Ue,L=Pe,W=je,G=xe;return f(),d(x,null,[ce(E(q,null,null,512),[[le,v(s).isLoading]]),c("div",Mt,[c("div",Ut,[c("a",{class:"cursor-pointer inline-flex justify-center <sm:absolute top-4 left-4",onClick:h[0]||(h[0]=()=>{v(_).push("/")})},[c("img",{class:"w-16",style:fe(v(ye)?"filter:invert(100%)":""),src:v(ge),alt:"Rimo And XiaoYun"},null,12,Dt)]),E($,{modelValue:o.value,"onUpdate:modelValue":h[1]||(h[1]=u=>o.value=u),class:"inline-flex ml-4 shadow transition hover:shadow-md <sm:ml-4",enter:()=>{T()}},null,8,["modelValue","enter"]),c("button",{m:"l-2",p:"2",class:"icon-btn flex justify-center items-center border rounded rounded-full !outline-none",onClick:h[2]||(h[2]=u=>T())},[E(F)])]),i.value?(f(),d("div",Ot,[c("div",zt," \u627E\u5230\u7EA6 "+b(i.value.\u603B\u6570)+" \u4E2A\u7ED3\u679C ",1),(f(!0),d(x,null,O(i.value.\u7ED3\u679C,(u,M)=>(f(),d("div",{key:M,text:"left",m:"b-4"},[c("a",{href:u.\u7F51\u5740,target:"_blank",class:"block truncate"},[c("cite",It,b(u.\u7F51\u5740),1)],8,Ht),u.\u4FE1\u606F?(f(),d(x,{key:0},[c("a",{href:u.\u7F51\u5740,target:"_blank",class:"text-lg text-blue-900 hover:underline dark:text-blue-500"},[c("h3",Kt,b(u.\u4FE1\u606F.\u6807\u9898),1)],8,Vt),c("p",{text:"sm",innerHTML:Y(u.\u4FE1\u606F.\u63CF\u8FF0||u.\u4FE1\u606F.\u6587\u672C)},null,8,Qt)],64)):(f(),d("div",Jt,[c("div",Yt,[E(L),Wt])]))]))),128)),v(w)?(f(),d("div",Gt,[p.value>1?(f(),d("span",{key:0,class:"page-link",text:"sm",p:"r-1",m:"r-1",onClick:h[3]||(h[3]=u=>g(p.value-1))},[E(W)])):C("",!0),(f(!0),d(x,null,O(v(w),u=>(f(),d("span",{key:u,p:"1",m:"1",class:de(["pagination-page",p.value===u?"text-black dark:text-white":"text-blue-600 dark:text-blue-500 cursor-pointer hover:underline"]),text:"sm",onClick:M=>p.value===u?null:g(u)},b(u),11,Xt))),128)),p.value<v(w)?(f(),d("span",{key:1,class:"page-link",text:"sm",p:"l-1",m:"l-1",onClick:h[4]||(h[4]=u=>g(p.value+1))},[E(G)])):C("",!0)])):C("",!0)])):C("",!0)])],64)}}});export{nn as default};
